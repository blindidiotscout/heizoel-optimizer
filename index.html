<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="HeizÃ¶l-Optimizer - HeizÃ¶lkosten-Minimierung durch Preisprognose und Kaufempfehlungen">
    <title>HeizÃ¶l-Optimizer v2.0 | Ã–sterreich</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ›¢ï¸</text></svg>">
    
    <!-- Chart.js with version pinning -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ›¢ï¸ HeizÃ¶l-Optimizer</h1>
            <p class="subtitle">Region Ã–sterreich | v2.0</p>
        </header>

        <!-- Tank-Input Section -->
        <section class="tank-section card">
            <h2>ğŸ“‹ Tank-Daten</h2>
            <div class="tank-form">
                <div class="form-group">
                    <label for="tankVolume">Tank-Volumen (Liter)</label>
                    <input type="number" id="tankVolume" placeholder="z.B. 5000" min="100" max="50000">
                </div>
                <div class="form-group">
                    <label for="currentLevel">Aktueller FÃ¼llstand (Liter)</label>
                    <input type="number" id="currentLevel" placeholder="z.B. 1200" min="0" max="50000">
                </div>
                <div class="form-actions">
                    <button id="saveTank" class="btn btn-primary">ğŸ’¾ Speichern</button>
                    <button id="refreshData" class="btn btn-secondary">ğŸ”„ Aktualisieren</button>
                </div>
                <div id="tankStatus" class="status-message"></div>
                <div id="lastUpdate" class="update-timestamp"></div>
            </div>
            <div class="tank-visual">
                <div class="tank-bar">
                    <div id="tankFill" class="tank-fill"></div>
                </div>
                <p id="tankPercent">--% gefÃ¼llt</p>
            </div>
        </section>

        <!-- Kaufempfehlung Section -->
        <section class="recommendation-section card" id="recommendationCard">
            <h2>ğŸ’¡ Kaufempfehlung</h2>
            <div id="recommendationContent">
                <p class="no-data">Daten werden geladen...</p>
            </div>
        </section>

        <!-- Chart Section -->
        <section class="chart-section card">
            <h2>ğŸ“Š HeizÃ¶lpreis-Entwicklung & Prognose</h2>
            <div class="chart-container">
                <canvas id="priceChart"></canvas>
            </div>
            <div class="legend-info">
                <span class="legend-item historical"><span class="dot"></span> Historische Preise</span>
                <span class="legend-item expected"><span class="dot"></span> Erwarteter Preis</span>
                <span class="legend-item best"><span class="dot"></span> Best-Case</span>
                <span class="legend-item worst"><span class="dot"></span> Worst-Case</span>
            </div>
        </section>

        <!-- Info Section -->
        <section class="info-section card">
            <h2>â„¹ï¸ Infos & Tipps</h2>
            <div class="info-grid">
                <div class="info-item">
                    <h3>ğŸ“‰ Beste Kaufzeit</h3>
                    <p>Historisch gesehen sind die Preise im <strong>Sommer</strong> (Mai-August) am niedrigsten.</p>
                </div>
                <div class="info-item">
                    <h3>âš ï¸ 30%-Strategie</h3>
                    <p>Bei kritischem FÃ¼llstand (<20%) und hohem Preis: Nur 30% des Tanks nachfÃ¼llen, Rest spÃ¤ter zu besseren Preisen.</p>
                </div>
                <div class="info-item">
                    <h3>ğŸ’° Spartipps</h3>
                    <ul>
                        <li>Mindestens 3 Anbieter vergleichen</li>
                        <li>2-3 Wochen Vorlauf einplanen</li>
                        <li>SaisonalitÃ¤t nutzen</li>
                    </ul>
                </div>
            </div>
        </section>

        <footer>
            <p>ğŸ›¢ï¸ HeizÃ¶l-Optimizer v2.0 | <a href="https://github.com/blindidiotscout/heizoel-optimizer" target="_blank">GitHub</a></p>
            <p class="disclaimer">âš ï¸ Haftungsausschluss: Alle Prognosen basieren auf historischen Daten. Keine Garantie fÃ¼r zukÃ¼nftige Preise. Dies ist ein Beratungstool.</p>
        </footer>
    </div>

    <!-- ES Module entry point -->
    <script type="module" src="src/app.js"></script>
</body>
</html>